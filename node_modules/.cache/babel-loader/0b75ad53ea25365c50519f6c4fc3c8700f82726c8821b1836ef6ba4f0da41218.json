{"ast":null,"code":"import React,{useState,useEffect}from'react';import UpdatePasswordSchema from'../../Schema/UpdatePasswordSchema';import*as yup from'yup';import axios from\"axios\";import MushroomQuest from'../../mushromPictures/MushroomQuest.png';import{Container,FormWrap,Icon,FormContent,Form,FormH1,FormLabel,FormInput,FormButton,Errors,ErrorsP}from'../SignIn/SignInElements';import{BASE_URL}from'../../helpers/axiosWithAuth';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ForgotPassword=props=>{const{push}=props.history;const[post,setPost]=useState();const[inputs,setInputs]=useState({email:\"\",password:\"\"});const[errors,setErrors]=useState({email:\"\",password:\"\"});const[disabled,setDisabled]=useState(true);const validation=(name,value)=>{yup.reach(UpdatePasswordSchema,name).validate(value).then(vaid=>{setErrors({...errors,[name]:''});}).catch(err=>{setErrors({...errors,[name]:err.errors[0]});});};const change=event=>{const{name,value}=event.target;setInputs({...inputs,[name]:value});validation(name,value);};const submit=event=>{event.preventDefault();axios.put(\"\".concat(BASE_URL,\"/auth/update\"),inputs).then(response=>{setPost(\"account has been updated\");push('/signin');}).catch(err=>{setPost(\"something went wrong please try again\");});setInputs({email:\"\",password:\"\"});};useEffect(()=>{UpdatePasswordSchema.isValid(inputs).then(vaid=>{setDisabled(!vaid);});},[inputs]);return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(FormWrap,{children:[/*#__PURE__*/_jsx(Icon,{to:'/',children:/*#__PURE__*/_jsx(\"img\",{src:MushroomQuest,alt:\"Mushroom\"})}),/*#__PURE__*/_jsx(FormContent,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:submit,children:[/*#__PURE__*/_jsx(FormH1,{children:\"Forgot Password\"}),/*#__PURE__*/_jsx(FormLabel,{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(FormInput,{id:'email',type:\"email\",name:\"email\",placeholder:\"Enter your email\",value:inputs.email,onChange:change}),errors.email.length>0?/*#__PURE__*/_jsx(Errors,{children:errors.email}):null,/*#__PURE__*/_jsx(FormLabel,{htmlFor:\"password\",children:\"New New Password\"}),/*#__PURE__*/_jsx(FormInput,{id:'password',type:\"password\",name:\"password\",placeholder:\"Enter your new password\",value:inputs.password,onChange:change}),errors.password.length>0?/*#__PURE__*/_jsx(Errors,{children:errors.password}):null,/*#__PURE__*/_jsx(FormButton,{disabled:disabled,type:\"submit\",children:\"Continue\"}),/*#__PURE__*/_jsx(ErrorsP,{children:post})]})})]})});};export default ForgotPassword;","map":{"version":3,"names":["React","useState","useEffect","UpdatePasswordSchema","yup","axios","MushroomQuest","Container","FormWrap","Icon","FormContent","Form","FormH1","FormLabel","FormInput","FormButton","Errors","ErrorsP","BASE_URL","jsx","_jsx","jsxs","_jsxs","ForgotPassword","props","push","history","post","setPost","inputs","setInputs","email","password","errors","setErrors","disabled","setDisabled","validation","name","value","reach","validate","then","vaid","catch","err","change","event","target","submit","preventDefault","put","concat","response","isValid","children","to","src","alt","onSubmit","htmlFor","id","type","placeholder","onChange","length"],"sources":["C:/Users/17143/Desktop/weather/Mushroomquest/MushroomQuest/src/components/Forgot/index.js"],"sourcesContent":["import React,{useState,useEffect} from 'react';\r\nimport UpdatePasswordSchema from '../../Schema/UpdatePasswordSchema'\r\nimport * as yup from 'yup';\r\nimport axios from \"axios\";\r\nimport MushroomQuest from '../../mushromPictures/MushroomQuest.png';\r\n\r\nimport {\r\n    Container,\r\n    FormWrap,\r\n    Icon,\r\n    FormContent,\r\n    Form,\r\n    FormH1,\r\n    FormLabel,\r\n    FormInput,\r\n    FormButton,Errors,ErrorsP\r\n} from '../SignIn/SignInElements'\r\nimport { BASE_URL } from '../../helpers/axiosWithAuth';\r\n\r\nconst ForgotPassword = (props) => {\r\n    const {push} = props.history\r\n    const[post, setPost] = useState()\r\n    const [inputs, setInputs] = useState({\r\n\r\n        email:\"\",\r\n        password:\"\"\r\n\r\n    })\r\n    const [errors,setErrors] = useState({\r\n        email:\"\",\r\n        password:\"\"\r\n    })\r\n\r\n    const [disabled,setDisabled] = useState(true)\r\n\r\nconst validation=(name,value) => {\r\n        yup.reach(UpdatePasswordSchema,name).validate(value).then(vaid => {\r\n           setErrors({...errors,[name]:''})\r\n        }).catch(err => {\r\n            setErrors({...errors,[name]:err.errors[0]\r\n            })\r\n        })\r\n    }\r\nconst change =( event) => {\r\n    const {name,value} = event.target\r\n    setInputs({...inputs,[name]:value})\r\n    validation(name,value)\r\n\r\n\r\n}\r\n\r\nconst submit = (event) => {\r\n  event.preventDefault()\r\n    axios.put(`${BASE_URL}/auth/update`,inputs).then(response => {\r\n        setPost(\"account has been updated\")\r\n        push('/signin')\r\n    }).catch(err => {\r\n        setPost(\"something went wrong please try again\")\r\n    })\r\n    setInputs({ email:\"\", password:\"\"})\r\n}\r\n\r\n    useEffect(()=>{\r\n        UpdatePasswordSchema.isValid(inputs).then(vaid => {\r\n            setDisabled(!vaid)\r\n        })\r\n    },[inputs])\r\n\r\n\r\n    return (\r\n\r\n            <Container>\r\n                <FormWrap>\r\n                <Icon to={'/'}>\r\n                <img src={MushroomQuest} alt=\"Mushroom\" />\r\n            </Icon>  \r\n                    <FormContent>\r\n                        <Form onSubmit={submit}>\r\n                            <FormH1>Forgot Password</FormH1>\r\n                            <FormLabel htmlFor=\"email\" >Email</FormLabel>\r\n                            <FormInput id={'email'} type=\"email\" name=\"email\" placeholder=\"Enter your email\" value={inputs.email} onChange={change}/>\r\n                            {errors.email.length > 0 ? <Errors>{errors.email}</Errors>:null}\r\n\r\n                            <FormLabel htmlFor=\"password\" >New New Password</FormLabel>\r\n                            <FormInput id={'password'} type=\"password\" name=\"password\" placeholder=\"Enter your new password\" value={inputs.password} onChange={change}/>\r\n\r\n                            {errors.password.length > 0 ? <Errors>{errors.password}</Errors>:null}\r\n\r\n                            <FormButton disabled={disabled} type=\"submit\">Continue</FormButton>\r\n                            <ErrorsP>{post}</ErrorsP>\r\n                        </Form>\r\n                    </FormContent>\r\n                </FormWrap>\r\n            </Container>\r\n\r\n    )\r\n}\r\n\r\nexport default ForgotPassword"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}