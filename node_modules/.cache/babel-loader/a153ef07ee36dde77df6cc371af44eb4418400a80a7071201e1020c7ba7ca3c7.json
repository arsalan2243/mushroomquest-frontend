{"ast":null,"code":"import React,{useState,useEffect}from'react';import SignInSchema from'../../Schema/SignInSchema';import*as yup from'yup';import axios from\"axios\";import MushroomQuest from'../../mushromPictures/MushroomQuest.png';import{Container,FormWrap,Icon,FormContent,Form,FormH1,FormLabel,FormInput,Text,FormButton,Errors,ErrorsP}from'./SignInElements';import{BASE_URL}from'../../helpers/axiosWithAuth';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SingIn=props=>{const{push}=props.history;const[post,setPost]=useState();const[inputs,setInputs]=useState({username:\"\",password:\"\"});const[errors,setErrors]=useState({username:\"\",password:\"\"});const[disabled,setDisabled]=useState(true);const validation=(name,value)=>{yup.reach(SignInSchema,name).validate(value).then(vaid=>{setErrors({...errors,[name]:''});}).catch(err=>{setErrors({...errors,[name]:err.errors[0]});console.log(errors);});};const change=event=>{const{name,value}=event.target;setInputs({...inputs,[name]:value});validation(name,value);};const submit=event=>{event.preventDefault();axios.post(\"\".concat(BASE_URL,\"/auth/login\"),inputs).then(response=>{setPost(\"account has been created\");localStorage.setItem('token',response.data.token);localStorage.setItem('username',inputs.username);push('/sliders');}).catch(err=>{setPost(\"something went wrong please try again\");});setInputs({username:\"\",password:\"\"});};useEffect(()=>{SignInSchema.isValid(inputs).then(vaid=>{setDisabled(!vaid);});},[inputs]);return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(FormWrap,{children:[/*#__PURE__*/_jsx(Icon,{to:'/',children:/*#__PURE__*/_jsx(\"img\",{src:MushroomQuest,alt:\"Mushroom\"})}),/*#__PURE__*/_jsx(FormContent,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:submit,children:[/*#__PURE__*/_jsx(FormH1,{children:\"Sign in to your account\"}),/*#__PURE__*/_jsx(FormLabel,{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(FormInput,{id:'username',type:\"username\",name:\"username\",placeholder:\"Enter your username\",value:inputs.username,onChange:change}),errors.username.length>0?/*#__PURE__*/_jsx(Errors,{children:errors.username}):null,/*#__PURE__*/_jsx(FormLabel,{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(FormInput,{id:'password',type:\"password\",name:\"password\",placeholder:\"Enter your password\",value:inputs.password,onChange:change}),errors.password.length>0?/*#__PURE__*/_jsx(Errors,{children:errors.password}):null,/*#__PURE__*/_jsx(FormButton,{disabled:disabled,type:\"submit\",children:\"Continue\"}),/*#__PURE__*/_jsx(ErrorsP,{children:post}),/*#__PURE__*/_jsx(Text,{onClick:()=>push('/forgot'),children:/*#__PURE__*/_jsx(\"h1\",{children:\"Forgot password?\"})})]})})]})});};export default SingIn;","map":{"version":3,"names":["React","useState","useEffect","SignInSchema","yup","axios","MushroomQuest","Container","FormWrap","Icon","FormContent","Form","FormH1","FormLabel","FormInput","Text","FormButton","Errors","ErrorsP","BASE_URL","jsx","_jsx","jsxs","_jsxs","SingIn","props","push","history","post","setPost","inputs","setInputs","username","password","errors","setErrors","disabled","setDisabled","validation","name","value","reach","validate","then","vaid","catch","err","console","log","change","event","target","submit","preventDefault","concat","response","localStorage","setItem","data","token","isValid","children","to","src","alt","onSubmit","htmlFor","id","type","placeholder","onChange","length","onClick"],"sources":["C:/Users/17143/Desktop/weather/Mushroomquest/MushroomQuest/src/components/SignIn/index.js"],"sourcesContent":["import React,{useState,useEffect} from 'react';\nimport SignInSchema from '../../Schema/SignInSchema'\nimport * as yup from 'yup';\nimport axios from \"axios\";\nimport MushroomQuest from '../../mushromPictures/MushroomQuest.png';\n\nimport {\n    Container,\n    FormWrap,\n    Icon,\n    FormContent,\n    Form,\n    FormH1,\n    FormLabel,\n    FormInput,\n    Text,\n    FormButton,Errors,ErrorsP\n} from './SignInElements'\nimport { BASE_URL } from '../../helpers/axiosWithAuth';\n\nconst SingIn = (props) => {\n    const {push} = props.history\n    const[post, setPost] = useState()\n    const [inputs, setInputs] = useState({\n\n        username:\"\",\n        password:\"\"\n\n    })\n    const [errors,setErrors] = useState({\n        username:\"\",\n        password:\"\"\n    })\n\n    const [disabled,setDisabled] = useState(true)\n\nconst validation=(name,value) => {\n        yup.reach(SignInSchema,name).validate(value).then(vaid => {\n           setErrors({...errors,[name]:''})\n        }).catch(err => {\n            setErrors({...errors,[name]:err.errors[0]\n            })\n            console.log(errors)\n        })\n    }\nconst change =( event) => {\n    const {name,value} = event.target\n    setInputs({...inputs,[name]:value})\n    validation(name,value)\n\n\n}\n\nconst submit = (event) => {\n  event.preventDefault()\n    axios.post(`${BASE_URL}/auth/login`,inputs).then(response => {\n        setPost(\"account has been created\")\n        localStorage.setItem('token', response.data.token)\n        localStorage.setItem('username', inputs.username )\n        push('/sliders')\n    }).catch(err => {\n        setPost(\"something went wrong please try again\")\n    })\n    setInputs({ username:\"\", password:\"\"})\n}\n\n    useEffect(()=>{\n        SignInSchema.isValid(inputs).then(vaid => {\n            setDisabled(!vaid)\n        })\n    },[inputs])\n\n\n    return (\n\n            <Container>\n                <FormWrap>\n                <Icon to={'/'}>\n                <img src={MushroomQuest} alt=\"Mushroom\" />\n            </Icon>  \n                    <FormContent>\n                        <Form onSubmit={submit}>\n                            <FormH1>Sign in to your account</FormH1>\n                            <FormLabel htmlFor=\"username\" >Username</FormLabel>\n                            <FormInput id={'username'} type=\"username\" name=\"username\" placeholder=\"Enter your username\" value={inputs.username} onChange={change}/>\n                            {errors.username.length > 0 ? <Errors>{errors.username}</Errors>:null}\n\n                            <FormLabel htmlFor=\"password\" >Password</FormLabel>\n                            <FormInput id={'password'} type=\"password\" name=\"password\" placeholder=\"Enter your password\" value={inputs.password} onChange={change}/>\n\n                            {errors.password.length > 0 ? <Errors>{errors.password}</Errors>:null}\n\n                            <FormButton disabled={disabled} type=\"submit\">Continue</FormButton>\n                            <ErrorsP>{post}</ErrorsP>\n                            <Text onClick={() => push('/forgot') }><h1>Forgot password?</h1></Text>\n                        </Form>\n                    </FormContent>\n                </FormWrap>\n            </Container>\n\n    )\n}\n\nexport default SingIn"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}